import{ie as G,ee as u,am as y,aq as M,hN as m,cf as W,ir as b}from"./index-Cf67L9ml.js";import{y as w,R as S}from"./geodesicUtils-D1DPj1dv.js";const j=50,Q=5;function q(t,a){return Math.log(t)/Math.log(a)}function U(t,a,o){const e=t===1?10:t;return e**(o?Math.round(q(j/a,e)):0)}function N(t){const{isGeographic:a,isWebMercator:o}=t;return!a&&!o}function k(t,a,o){const e=typeof t=="number"?null:t,r=o??(e==null?void 0:e.spatialReference);if(r==null||!G(r)||N(r))return u(r);let s=(e==null?void 0:e.x)??t,c=(e==null?void 0:e.y)??a;const f=1/Math.sqrt(2);let i=s+f,l=c+f;const{isWebMercator:x,isGeographic:g}=r;let p=g&&!w(r)?y.WGS84:r;if(x){let n=new M({x:s,y:c,spatialReference:r});m(n,!0,n),s=n.x,c=n.y,n=new M({x:i,y:l,spatialReference:r}),m(n,!0,n),i=n.x,l=n.y,p=y.WGS84}const R=new W({paths:[[[s,c],[i,l]]],spatialReference:p}),$=b(R,10);let h;try{[h]=S([$],"meters")}catch{return u(r)}return h}export{U as l,Q as t,k as u};
