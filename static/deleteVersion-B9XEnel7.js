import{b as c,aE as d,eT as u,eU as f,a4 as m}from"./index-Cf67L9ml.js";import{r as v}from"./serverVersionUtils-nE-u81V0.js";const s=new Map;async function $(e,o,a){s.has(e)||await v(s,e);const r=s.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new c("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");const t=d(e),i=o.toJSON(),n=u(t.query,{query:f({...i,f:"json"}),...a,authMode:"immediate",method:"post"}),h=`${t.path}/delete`,{data:p}=await m(h,n);return p.success}export{$ as deleteVersion,s as serverVersionCacheMap};
