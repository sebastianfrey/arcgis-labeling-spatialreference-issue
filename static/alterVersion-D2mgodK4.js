import{b as n,aE as g,eT as p,eU as v,a4 as w}from"./index-DKbcOXvO.js";import{r as d}from"./serverVersionUtils-zGc6GNJW.js";const i=new Map;async function V(e,s,a,c){i.has(e)||await d(i,e);const r=i.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new n("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!s)throw new n("alterVersion:missing-guid","guid for version is missing");const t=g(e),h=a.toJSON(),f=p(t.query,{query:v({...h,f:"json"}),...c,authMode:"immediate",method:"post"});s.startsWith("{")&&(s=s.slice(1,-1));const u=`${t.path}/versions/${s}/alter`,{data:o}=await w(u,f);return!!o&&o.success}export{V as alterVersion,i as serverVersionCacheMap};
