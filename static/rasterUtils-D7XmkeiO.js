import{el as O,em as C,en as A,eo as _,ep as T,eq as h,er as r,es as d,et as E}from"./index-DKbcOXvO.js";function b(e,a,t="nearest",i=!1){const n=!(i&&a.pixelType==="u8"),o=n?A.FLOAT:A.UNSIGNED_BYTE,u=a.pixels==null||a.pixels.length===0?null:n?a.getAsRGBAFloat():a.getAsRGBA(),f=e.capabilities.textureFloatLinear,s=new O;return s.width=a.width,s.height=a.height,s.internalFormat=n?C.RGBA32F:d.RGBA,s.samplingMode=!f||t!=="bilinear"&&t!=="cubic"?_.NEAREST:_.LINEAR,s.dataType=o,s.wrapMode=T.CLAMP_TO_EDGE,new h(e,s,u)}function w(e,a){const{spacing:t,offsets:i,coefficients:n,size:[o,u]}=a,f=t[0]>1,s=new O;s.width=f?4*o:o,s.height=u,s.internalFormat=C.RGBA32F,s.dataType=A.FLOAT,s.samplingMode=_.NEAREST,s.wrapMode=T.CLAMP_TO_EDGE;const m=new Float32Array(f?o*u*16:2*i.length);if(f&&n!=null)for(let c=0,l=0;c<n.length;c++)m[l++]=n[c],c%3==2&&(m[l++]=1);else for(let c=0;c<u;c++)for(let l=0;l<o;l++){const g=4*(c*o+l),p=2*(l*u+c);m[g]=i[p],m[g+1]=i[p+1],m[g+3]=i[p]===-1?0:1}return new h(e,s,m)}function F(e,a){const t=new O;return t.internalFormat=d.RGBA,t.width=a.length/4,t.height=1,t.samplingMode=_.NEAREST,t.wrapMode=T.CLAMP_TO_EDGE,new h(e,t,a)}function x(e,a,t,i=1,n=!0){return{u_flipY:n,u_applyTransform:!!e,u_opacity:i,u_transformSpacing:e?e.spacing:E,u_transformGridSize:e?e.size:E,u_targetImageSize:a,u_srcImageSize:t}}function M(e,a){return{u_colormapOffset:a||0,u_colormapMaxIndex:e?e.length/4-1:0}}function G(e,a){return{u_scale:e,u_offset:a}}function V(e){return{u_bandCount:e.bandCount,u_minOutput:e.minOutput,u_maxOutput:e.maxOutput,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function k(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function N(e,a){const t=e.gl,i=a.glName,n=new Map;if(i==null)return n;const o=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);let u;for(let f=0;f<o;f++)u=t.getActiveUniform(i,f),u&&n.set(u.name,{location:t.getUniformLocation(i,u.name),info:u});return n}function R(e,a,t){Object.keys(t).forEach(i=>{const n=a.get(i)||a.get(i+"[0]");n&&L(e,i,t[i],n)})}function v(e,a,t,i){t.length===i.length&&(i.some(n=>n==null)||t.some(n=>n==null)||t.forEach((n,o)=>{a.setUniform1i(n,o),e.bindTexture(i[o],o)}))}function L(e,a,t,i){if(i===null||t==null)return!1;const{info:n}=i;switch(n.type){case r.FLOAT:n.size>1?e.setUniform1fv(a,t):e.setUniform1f(a,t);break;case r.FLOAT_VEC2:e.setUniform2fv(a,t);break;case r.FLOAT_VEC3:e.setUniform3fv(a,t);break;case r.FLOAT_VEC4:e.setUniform4fv(a,t);break;case r.FLOAT_MAT3:e.setUniformMatrix3fv(a,t);break;case r.FLOAT_MAT4:e.setUniformMatrix4fv(a,t);break;case r.INT:n.size>1?e.setUniform1iv(a,t):e.setUniform1i(a,t);break;case r.BOOL:e.setUniform1i(a,t?1:0);break;case r.INT_VEC2:case r.BOOL_VEC2:e.setUniform2iv(a,t);break;case r.INT_VEC3:case r.BOOL_VEC3:e.setUniform3iv(a,t);break;case r.INT_VEC4:case r.BOOL_VEC4:e.setUniform4iv(a,t);break;default:return!1}return!0}export{k as A,R as O,N as T,M as _,F as c,b as f,G as g,v as h,x as l,w as m,V as p};
