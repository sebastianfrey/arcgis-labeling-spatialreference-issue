import{a4 as p,e_ as s}from"./index-BFudLC3v.js";import{t as l}from"./symbolUtils-DFtoUil5.js";import{e as c}from"./webStyleAcceptedFormats-CG7ZQ6BV.js";import"./utils-B90FjHHH.js";import"./cimSymbolUtils-BZWniSJI.js";import"./utils-CqB-nE1K.js";import"./colorUtils-CW8biUm0.js";import"./webStyleSymbolUtils-1ovTVI4v.js";import"./devEnvironmentUtils-CnNDiFMM.js";async function z(i,e,t){var o;const r=(o=i.thumbnail)==null?void 0:o.url;if(r){const a=d((await p(r,{responseType:"image"})).data,t);return t!=null&&t.node?(t.node.appendChild(a),t.node):a}const m=await i.fetchSymbol({acceptedFormats:c});return m?e(m,t):null}function d(i,e){const t=!/\\.svg$/i.test(i.src)&&(e==null?void 0:e.disableUpsampling),r=Math.max(i.width,i.height);let m=(e==null?void 0:e.maxSize)!=null?s(e.maxSize):l.maxSize;t&&(m=Math.min(r,m));const o=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null,a=Math.min(m,o!=null?s(o):r);if(a!==r){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=a,i.height=a/h):(i.width=a*h,i.height=a)}return i}export{z as previewWebStyleSymbol};
